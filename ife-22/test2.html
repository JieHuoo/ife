<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>字符串1</title>
</head>
<body>
    <div>
        <label>String A:
            <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-b" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>        
        <label>Num A：<input id="num-a" type="number" value="0"></label>
        <label>Num B：<input id="num-b" type="number" value="1"></label>
    </div>
    <div>
        <button>获取当前选中输入的内容长度</button>
        <button>当前选中输入中的第3个字符</button>
        <button>把两个输入框的文字连接在一起输出（concat）</button>
        <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button>当前选中输入框的行数</button>
        <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button>把所选输入框中的内容全部转为大写</button>
        <button>把所选输入框中的内容全部转为小写</button>
        <button>把所选输入框中内容的半角空格全部去除</button>
        <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result"></p>
    <script>
        var obj = document.getElementsByName("str-obj");
        var btn = document.getElementsByTagName("button");
        var str = document.getElementsByTagName("textarea");
        //var strb = document.getElementById("str-b");
        var numa = document.getElementById("num-a");
        var numb = document.getElementById("num-b");
        var result = document.getElementById("result");
        
        //获取当前选中输入的内容长度
        btn[0].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    if(str[i].value === "") {
                        result.textContent = "请输入内容！"
                    } else {
                        result.textContent = "内容长度为：" + (str[i].value).length;
                    }
                }
            } 
        })
        //当前选中输入中的第3个字符
        btn[1].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    if(str[i].value === "") {
                        result.textContent = "请输入内容！"
                    } else {
                        result.textContent = "第三个字符为：" + (str[i].value)[2];
                    }
                }
            } 
        })
        //把两个输入框的文字连接在一起输出（concat）
        btn[2].addEventListener("click",function() {
            result.textContent = "连接后内容为：" + (str[0].value).concat(str[1].value);
        })
        //输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）
        btn[3].addEventListener("click",function() {
            if(!str[0].value || !str[1].value) {
                result.textContent = "请输入内容！";
            } else {
                if((str[0].value).indexOf(str[1].value) === -1) {
                    result.textContent = "A的内容里找不到B的内容";
                } else{
                    result.textContent = "B的内容在A的内容第一次出现的位置为：" + 
                                        (str[0].value).indexOf(str[1].value);
                }
            }
        })
        //输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）
        btn[4].addEventListener("click",function() {
            if(!str[0].value || !str[1].value) {
                result.textContent = "请输入内容！";
            } else {
                if((str[1].value).lastIndexOf(str[0].value) === -1) {
                    result.textContent = "B的内容里找不到A的内容";
                } else {
                    result.textContent = "A的内容在B的内容最后一次出现的位置为：" + 
                                        (str[1].value).lastIndexOf(str[0].value);
                }   
            }
        })
        //使用slice获取选中输入框内容的部分内容，参数为num-a及num-b
        btn[5].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    if(!str[i].value) {
                        result.textContent = "请输入内容！";
                    } else {
                        result.textContent = "获取内容为：" + 
                                                (str[i].value).slice(numa.value,numb.value);
                    }
                }
            }
        })
        //当前选中输入框的行数
        btn[6].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    result.textContent = "行数为：" + 
                                            (str[i].value).split(/\r*\n/).length;
                }
            }
        })
        //使用substr获取选中输入框内容的子字符串，参数为num-a及num-b
        btn[7].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    result.textContent = "获取的子字符串为：" + 
                                            (str[i].value).substr(numa.value,numb.value);
                }
            }
        })
        //把所选输入框中的内容全部转为大写
        btn[8].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    result.textContent = "转化为大写后为：" + (str[i].value).toUpperCase();
                }
            }
        })
        //把所选输入框中的内容全部转为小写
        btn[9].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    result.textContent = "转化为小写后为：" + (str[i].value).toLowerCase();
                }
            }
        })
        //把所选输入框中内容的半角空格全部去除
        btn[10].addEventListener("click",function() {
            for(var i=0; i<obj.length; i++) {
                if(obj[i].checked) {
                    result.textContent = "去掉半角空格后为：" + (str[i].value).split(" ").join("");
                }
            }
        })
        //把所选输入框中内容的a全部替换成另外一个输入框中的内容
        btn[11].addEventListener("click",function() {
            if(obj[0].checked) {
                result.textContent = "替换后为：" + 
                                        (str[0].value).replace(new RegExp("a","gm"),str[1].value);
            } else if(obj[1].checked) {
                result.textContent = "替换后为：" + 
                                        (str[1].value).replace(new RegExp("a","gm"),str[0].value);
            }
        })

    </script>
</body>
</html>